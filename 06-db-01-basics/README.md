## Задача 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД 
лучше выбрать для хранения определённых данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- электронные чеки в json-виде,
- склады и автомобильные дороги для логистической компании,
- генеалогические деревья,
- кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации,
- отношения клиент-покупка для интернет-магазина.

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.
## Решение:
- Электронные чеки в json виде — **документоориентированная (NoSQL) СУБД**. Каждый чек — это отдельный документ. Можно использовать MongoDB.
- Склады и автомобильные дороги для логистической компании — **графовая (NoSQL) СУБД**. Склады — это узлы, а дороги между складами — это рёбра. У рёбер могут быть свойства — расстояние между складами, или, например, стоимость проезда для автомобилей разного типа. Граф предоставляет возможность поиска оптимального пути для решений задачи логистической компании.   
- Генеалогические деревья — **сетевая (NoSQL) СУБД**, так как древовидная структура и узлы древа связаны между собой в отношениях родитель-потомок. У потомка может быть 2 или больше родителей.
- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации — **(NoSQL) СУБД типа ключ-значение**. Позволяет хранить значения установленное количество времени. Можно использовать Redis.
- Отношения клиент-покупка для интернет-магазина — **реляционная (SQL) СУБД** с таблицами фактов (заказы) и измерений (клиенты, товары, продавцы).
## Задача 2

Вы создали распределённое высоконагруженное приложение и хотите классифицировать его согласно 
CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если 
(каждый пункт — это отдельная реализация вашей системы и для каждого пункта нужно привести классификацию):

- данные записываются на все узлы с задержкой до часа (асинхронная запись);
- при сетевых сбоях система может разделиться на 2 раздельных кластера;
- система может не прислать корректный ответ или сбросить соединение.

Согласно PACELC-теореме как бы вы классифицировали эти реализации?
## Решение:
Согласно CAP теореме, система будет классифицирована как CP система. CP означает, что система обладает согласованностью (consistency) в пределах одной области данных (partition), но может иметь несогласованность (eventual consistency) между различными разделами. Это происходит из-за асинхронной записи данных, которая может привести к временной несогласованности между различными узлами системы.

Если система разделяется на два отдельных кластера, она будет продолжать работать в каждом кластере, обеспечивая локальную согласованность данных. Однако, между кластерами может быть временная несогласованность, пока они снова не будут соединены.

Наконец, система, которая может не отправить корректный ответ или сбросить соединения, подразумевает, что она может не всегда обеспечивать доступность (availability) сервиса. Это может произойти из-за сетевых сбоев или перегрузки системы.

Согласно PACELC теореме, эти реализации могут быть классифицированы как CPELC системы. CPELC означает, что системы обладают согласованностью, доступностью, и линейной целостностью (linearizability) в пределах одного раздела, но могут иметь несогласованность в разных разделах.


## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?
## Решение:
Да, в одной системе могут сочетаться принципы BASE и ACID.

BASE (Basically Available, Soft-state, Eventually Consistent) - это принципы, которые определяют архитектуру системы, допускающую определенную степень недетерминированности и асинхронности. Они больше относятся к дизайну системы и ее архитектуре.

ACID (Atomicity, Consistency, Isolation, Durability) - это набор свойств, которым должны удовлетворять операции в транзакциях для обеспечения надежности и целостности данных. Это больше относится к уровню управления данными и их обработке.

Сочетание принципов BASE и ACID возможно, поскольку BASE относится к проектированию системы, а ACID - к обработке данных. Системы могут использовать BASE-архитектуру для оптимизации производительности и масштабируемости, в то же время сохраняя ACID-свойства для обеспечения надежности и безопасности данных.

Например, база данных может использовать BASE-архитектуру, такую как использование динамической модели данных и мягкого состояния, чтобы улучшить производительность и масштабируемость. Но она также может обеспечить транзакции ACID, такие как атомарность, согласованность, изоляцию и долговечность, чтобы обеспечить надежность и целостность данных.
## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни,
- реакция на истечение таймаута.

Вы слышали о key-value-хранилище, которое имеет механизм Pub/Sub. 
Что это за система? Какие минусы выбора этой системы?
## Решение:
СУБД Redis. Недостатки:
* Размер БД ограничен доступной памятью RAM
* Не является реляционной БД, не поддерживает SQL
* Существует риск потери данных, так как они хранятся в RAM. Но есть механизм репликации на диск.